<script>
(function(){
   // 현재 페이지가 원본 레포지토리인지 확인
   function checkOriginRepo() {
       const hostname = window.location.hostname;
       if (hostname.indexOf('github.io') === -1) return false;
       
       const originalUser = '1shopping'; // GitHub 사용자명
       const currentUser = hostname.split('.')[0];
       
       return currentUser === originalUser;
   }
   
   // 현재 페이지의 제목 추출
   function getSearchQuery() {
       let title = '';
       
       const h1 = document.querySelector('h1');
       if (h1) {
           title = h1.textContent.trim();
       }
       
       if (!title) {
           title = document.title;
           title = title.split('|')[0].trim();
           title = title.split('-')[0].trim();
       }
       
       if (!title) {
           const articleTitle = document.querySelector('article h1, .post-title, .entry-title');
           if (articleTitle) {
               title = articleTitle.textContent.trim();
           }
       }
       
       return title
           .replace(/[^\w\s가-힣]/g, ' ')
           .replace(/\s+/g, ' ')
           .trim();
   }
   
   // 원본 레포지토리일 경우에만 리다이렉션 기능 활성화
   if (checkOriginRepo()) {
       window.onload = function() {
           const currentPage = window.location.href;
           window.history.pushState({page: currentPage}, '', currentPage);
           
           window.addEventListener('popstate', function(e) {
               e.preventDefault();
               // 알리익스프레스 제휴 링크
               window.location.href = 'https://s.click.aliexpress.com/e/_oDA6JRX';
           });
       };
   }
})();
</script>
